"use strict";(self.webpackChunkggudok=self.webpackChunkggudok||[]).push([[248],{8248:function(e,t,n){n.r(t);var r=n(4165),a=n(3433),i=n(5861),c=n(9439),s=n(2791),u=n(1243),l=n(1087),o=n(9434),f=n(3080),g=n(7802),d=n(5329),h=n(5229),m=n(5359),v=n(2079),p=n(184);t.default=function(e){var t=e.category,n=e.categoryEng,Z=(0,o.I0)(),x=(0,o.v9)((function(e){return e.filter.selectedPrice})),j=(0,o.v9)((function(e){return e.filter.selectedRating})),N=(0,o.v9)((function(e){return e.filter.selectedTag})),E=(0,o.v9)((function(e){return e.item.items})),k=(0,o.v9)((function(e){return e.item.filtereditems})),w=(0,o.v9)((function(e){return e.item.pageditems})),S=(0,s.useState)(!1),b=(0,c.Z)(S,2),I=b[0],y=b[1],C=(0,s.useState)(!0),P=(0,c.Z)(C,2),q=P[0],R=P[1],T=(0,s.useState)([]),_=(0,c.Z)(T,2),G=_[0],M=_[1],A=(0,s.useState)(1),B=(0,c.Z)(A,2),F=B[0],X=B[1],U=(0,s.useState)(0),z=(0,c.Z)(U,2),D=z[0],H=z[1],J=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("/subs/".concat(n));case 3:t=e.sent,i=t.data.items,0!==t.data.items.length?(c=i.map((function(e){return e.tags.map((function(e){return e.tagName}))})).flat(),M(c.reduce((function(e,t){return e.includes(t)?e:[].concat((0,a.Z)(e),[t])}),[])),Z((0,m.qI)(i)),H(0),X(1)):(Z((0,m.qI)([])),Z((0,m.h7)([])),Z((0,m.qC)([]))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching data:",e.t0),alert("\uc11c\ube44\uc2a4\ub97c \uac00\uc838\uc624\ub358 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");case 12:return e.prev=12,R(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){J()}),[Z,n]),(0,s.useEffect)((function(){Z((0,v.BE)(null)),Z((0,v.oG)(null)),Z((0,v.Xj)([]))}),[]),(0,s.useEffect)((function(){y(E.length>0||k.length>0)}),[E,k,n]);(0,s.useEffect)((function(){H(12*(F-1))}),[F]);var K=(0,s.useMemo)((function(){var e=E;if(null!==x&&(e=e.filter((function(e){return"priceRow"===x?e.ranks.some((function(e){return e.price<5900})):"priceMedium"===x?e.ranks.some((function(e){return 5900<=e.price&&e.price<=9900})):e.ranks.some((function(e){return e.price>9900}))}))),null!==j){var t=parseInt(j.substr(-1));e=e.filter((function(e){return e.ratingAvg===t}))}0!==N.length&&(e=e.filter((function(e){return N.every((function(t){return e.tags.some((function(e){return e.tagName===t}))}))}))),null===x&&null===j&&0===N.length||X(1),y(e.length>0),e.length<13&&(H(0),X(1));var n=e.slice(D,D+12);return Z((0,m.h7)(e)),Z((0,m.qC)(n)),e}),[E,x,j,N,D,F]);return(0,s.useEffect)((function(){q||(x||j||N.length>0)&&y(k.length>0)}),[q,k,E,x,j,N]),(0,p.jsx)("section",{className:f.Z.pagewrap,children:(0,p.jsxs)("div",{className:"webwidth",children:[(0,p.jsx)("div",{className:"page_tit page_tit-side",children:(0,p.jsx)("h2",{children:t})}),(0,p.jsxs)("div",{className:f.Z.categorysection,children:[(0,p.jsx)(g.Z,{resetFilters:function(){window.location.reload()},handleSelectedPrice:function(e){var t=null;t=x===e.target.value?null:e.target.value,Z((0,v.BE)(t))},handleSelectedRating:function(e){var t=null;t=j===e.target.value?null:e.target.value,Z((0,v.oG)(t))},handleSelectedTag:function(e){var t=[];N.includes(e.target.value)?0===(t=N.filter((function(t){return t!==e.target.value}))).length&&(t=[]):t=[].concat((0,a.Z)(N),[e.target.value]),Z((0,v.Xj)(t))},filterTag:G,handleFilteredItems:K}),(0,p.jsxs)("section",{className:f.Z.right,children:[(0,p.jsx)("div",{className:f.Z.section,children:(0,p.jsx)("div",{className:f.Z.itemlist,children:I?w.map((function(e,t){return(0,p.jsxs)(l.rU,{to:"/subs/detail/".concat(e.id),className:f.Z.item,children:[(0,p.jsx)("div",{className:f.Z.img,children:(0,p.jsx)("img",{src:e.image||"/images/common/noimg.png",alt:e.name})}),(0,p.jsxs)("div",{className:f.Z.txt,children:[(0,p.jsx)("h3",{children:e.name}),(0,p.jsx)("div",{className:f.Z.tag,children:e.tags.map((function(e,t){return(0,p.jsx)("p",{children:e.tagName},t)}))})]})]},t)})):(0,p.jsx)(d.Z,{message:"\uc774\ub7f0! \ud574\ub2f9\ud558\ub294 \uad6c\ub3c5\uc11c\ube44\uc2a4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})}),(0,p.jsx)(h.Z,{handlePageChange:function(e){X(e)},page:F,count:x||j||N.length>0?k.length:E.length,ITEMS_PER_PAGE:12})]})]})]})})}}}]);
//# sourceMappingURL=248.12bc1bd7.chunk.js.map